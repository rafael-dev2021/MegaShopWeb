@model Application.Dtos.ProductDto

<link rel="stylesheet" href="~/css/GetProductsListPartial.css" asp-append-version="true" />

<br />
<div class="container" style="line-height:30px">
    <div class="row">
        <div class="position-relative" style="margin-left:-10%">
            <div class="mt-3">
                @if (Model.ProductFlagsObjectValue.IsDailyOffer == true)
                {
                    <div class="position-absolute top-0" style="margin-left:25px">
                        <span class="badge" style="background-color:#00a650">@Model.CalculateDiscountService().DiscountPercentage(Model.ProductPriceObjectValue).ToString("F0")%</span>
                    </div>
                    <div class="position-absolute top-0" style="margin-left:70%">
                        <a asp-controller="Products" asp-action="Index" asp-route-isDailyOffer="true" class="d-none d-md-block">
                            <span class="style_flags">Daily Offers</span>
                        </a>
                    </div>
                }
                @if (Model.ProductFlagsObjectValue.IsBestSeller == true)
                {
                    <div class=" position-absolute top-0" style="margin-left:30px">
                        <a asp-controller="Products" asp-action="Index" asp-route-isBestSeller="true" class="d-none d-md-block">
                            <span class="style_flags">Best Sellers</span>
                        </a>
                    </div>
                }
            </div>
            <a asp-controller="Products" asp-action="Details" asp-route-Id="@Model.Id">
                <div class="img-container">
                    <img class="img-fluid" id="main_image" src="@Model.ProductImageObjectValue.MainImage" />
                </div>
            </a>

            <div class="card-product-action">
                <a href="#" class="btn-action product_action showDetailModel" data-id="@Model.Id" data-bs-toggle="tooltip" data-bs-html="true" title="Quick view">
                    <i class="bi bi-eye"></i>
                </a>
                <a href="../pages/shop-wishlist.html" class="btn-action product_action" data-bs-toggle="tooltip" data-bs-html="true" title="Wishlist">
                    <i class="bi bi-heart"></i>
                </a>
                <a href="#!" class="btn-action product_action" data-bs-toggle="tooltip" data-bs-html="true" title="Compare">
                    <i class="bi bi-arrow-left-right"></i>
                </a>
            </div>
        </div>
        <div>
            <small class="style_categoryName">
                @Model.Category.CategoryName
            </small>
            <h6 class="style_name_product">@Model.Name</h6>
        </div>
        <div>
            <span style="font-weight:700; color:#2a8703">Now @Model.ProductPriceObjectValue.Price.ToString("C")</span>
            @if (Model.ProductFlagsObjectValue.IsDailyOffer == true)
            {
                <small>
                    <span class="text-decoration-line-through text-muted"
                          style="margin-right:0.5rem;">
                        @Model.ProductPriceObjectValue.HistoryPrice.ToString("C")
                    </span>
                </small>
            }
        </div>
        <div class="mt-1 mb-1">
            <partial name="~/Views/Shared/ProductsPartial/GetProductsListPartial/GetProductsListReviewsAveragePartial.cshtml" for="@Model" />
        </div>
        <div style="font-family: calibri;color: gray;">
            <small>
                <span>@Model.ProductWarrantyObjectValue.WarrantyInformation</span>
            </small>
        </div>
    </div>
</div>
<!--Modal-->
<partial name="~/Views/Shared/ProductsPartial/GetProductsListPartial/GetProductsListModalPartial.cshtml" for="@Model" />
